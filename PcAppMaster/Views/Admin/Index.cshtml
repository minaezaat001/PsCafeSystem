<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="~/css/vandors/bootstrap.min.css" />
    <!-- Fontawsome -->
    <link rel="stylesheet" href="~/css/vandors/all.min.css" />
    <!-- Mian-Style -->
    <link rel="stylesheet" href="~/css/style.css" />
    <title>Index</title>
</head>

<body>
    <!-- ================================================
    Start Load  -->
    <div class="load-page"></div>
    <!-- ================================================
    End Load  -->
  
    <!-- ================================================
    Start App -->
    <section class="app dash">
        <!-- Start Pages -->
        <div class="container-fluid">
            <!-- ================================================
    Start Header  -->
            <header class="header">
                <!-- Start Navbar -->
                <ul class="nav-bar p-md-3 py-3 px-1">
                    <li class="mt-3 text-center">
                        <a href="#" data-targets="#dash" class="link-navbar colorWhait">
                            <i class="fas fa-list icon-nav mainColor font-size d-block mx-auto"></i>
                            Dashboard
                        </a>
                    </li>
                    <li class="mt-3 text-center">
                        <a href="#" data-targets="#control" class="link-navbar colorWhait">
                            <i class="fas fa-tv icon-nav mainColor font-size d-block mx-auto"></i>
                            PS
                        </a>
                    </li>
                    <li class="mt-3 text-center">
                        <a href="#" data-targets="#user" class="link-navbar colorWhait">
                            <i class="fas fa-user icon-nav mainColor font-size d-block mx-auto"></i>
                            User
                        </a>
                    </li>
                    <li class="mt-3 text-center">
                        <a href="#" data-targets="#ps" class="link-navbar colorWhait">
                            <i class="fas fa-beer icon-nav mainColor font-size d-block mx-auto"></i>
                            Drinks
                        </a>
                    </li>
                    <li class="mt-3 text-center">
                        <a href="#" data-targets="#shift" class="link-navbar colorWhait">
                            <i class="fa fa-door-open icon-nav mainColor font-size d-block mx-auto"></i>
                            End Shift
                        </a>
                    </li>

                    <li class="mt-3 text-center">
                        <a asp-controller="Home" class=" colorWhait">
                            <i class="fa fa-tv icon-nav mainColor font-size d-block mx-auto"></i>
                            PS
                        </a>
                    </li>
                </ul>
                <!-- End Navbar -->
            </header>
            <!-- ================================================
    End Header  -->
            <!-- ================================================
    Start control-page -->
            <section id="dash" class="control-page py-5 block">
                <div class="container">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="p-3 mb-5 d-flex align-items-center box-admin">
                                <span class="on mx-2"></span>
                                <span>Online PS Is :</span>
                                <span id="online"></span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="p-3 mb-5 d-flex align-items-center box-admin">
                                <span>Total Cash Shift Is :</span>
                                <span id="cash"></span>
                                <i class="fas fa-dollar-sign mx-1"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- ================================================
    End Add Tpye PS-Page -->
            <!-- ================================================
    End control-page -->
            <!-- ================================================
    Start control-page -->
            <section id="control" class="control-page py-5">
                <div class="container">
                  

                    <div class="contet-control p-5 d-flex justify-content-center align-items-center">
                        <button class="box-contnet  click-pull add-ps">
                            <span class="mainColor font-size title-icon d-none d-md-inline">Add PS</span>
                            <span class="mainColor font-size title-icon d-block d-md-none"></span>
                            <i class="fas fa-tv font-size icon text-center ml-3"></i>
                        </button>
                        <button class="box-contnet click-pull add-ps-type">
                            <span class="mainColor font-size title-icon d-none d-md-inline">PS Type</span>
                            <span class="mainColor font-size title-icon d-block d-md-none"></span>
                            <i class="fa fa-laptop font-size icon text-center ml-3"></i>
                        </button>
                    </div>
                    <!-- ./contnet -->
                    <!-- ================================================
                Start Add PS-Page -->
                    <section class="add-ps-page py-5">
                        <div class="">
                            <div class="text-center">
                                <h2 class="title-page mb-5">
                                    Add PS
                                </h2>
                            </div>
                            <!-- title-page -->
                            <div class="text-center w-100 mx-auto">
                                <input class=" divid mb-3 p-2" type="number" min="1" placeholder="Number PS" hidden />
                                <input class=" adddevname mb-3 p-2" type="number" min="1" placeholder="Number PS" />
                                <select class=" list-typepc ttrr browser-default custom-select mb-3 p-2 w-50 d-block mx-auto">
                                </select>
                                <button id="adddev" class=" adddev d-block mx-auto btn bg-color-add colorWhait">
                                    Add
                                    <i class="fa fa-plus"></i>
                                </button>
                                <button id="EditDevice" class="d-block mx-auto btn bg-color-add colorWhait">
                                    Update
                                    <i class="fa fa-plus"></i>
                                </button>
                            </div>
                            <!-- End-Form -->

                            <div class="table-responsive">
                                <!-- Main Table -->
                                <table class="table table-dark table-hover w-75 mx-auto mt-5">
                                    <thead>
                                        <tr>
                                            <th scope="col">Edit</th>
                                            <th scope="col">PS Number</th>
                                            <th scope="col">PS Type</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ShowDevice">
                                    </tbody>
                                </table>
                                <!-- End Main Table -->
                            </div>
                        </div>
                    </section>
                    <!-- ================================================
                End Add PS-Page -->
                    <!-- ================================================
                Start Add Tpye PS-Page -->
                    <section class="add-tpye-ps py-5">
                        <div class="">
                            <div class="text-center">
                                <h2 class="title-page mb-5">
                                    Add PS Type
                                </h2>
                            </div>
                            <!-- title-page -->
                            <div class="text-center w-100 mx-auto">

                                <input id="PsId" hidden class=" mb-3 p-2 w-50 d-block mx-auto" type="text" placeholder="Type Id " />
                                <input id="PSType" class="mb-3 p-2 w-50 d-block mx-auto" type="text" placeholder="PS Type" />
                                <input id="PriceSingle" class="mb-3 p-2 w-50 d-block mx-auto" type="number" min="1" placeholder=" Single Hour Price" />
                                <input id="PriceMulti" class="mb-3 p-2 w-50 d-block mx-auto" type="number" min="1" placeholder=" Multi HourPrice" />
                                <button id="CreateType" class="d-block mx-auto w-50 btn bg-color-add colorWhait">
                                    Add
                                    <i class="fa fa-plus"></i>
                                </button>
                                <button id="EditType" class="d-block mx-auto w-50 btn bg-color-add colorWhait">
                                    Update
                                    <i class="fa fa-plus"></i>
                                </button>
                            </div>


                            <div class="table-responsive">
                                <!-- Main Table -->
                                <table class="table table-dark table-hover w-75 mx-auto mt-5">
                                    <thead>
                                        <tr>
                                            <th scope="col">Edit</th>
                                            <th scope="col">Type Name</th>
                                            <th scope="col"> Single Hour Price</th>
                                            <th scope="col"> Multi Hour Price</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ShowTypes">
                                        <tr>
                                            <th scope="row" class="d-flex">
                                                <i class="fas fa-edit click-pull update color-add font-size"></i>
                                                <i class="fa fa-trash click-pull color-remove font-size mx-1"></i>
                                            </th>

                                        </tr>
                                    </tbody>
                                </table>
                                <!-- End Main Table -->
                            </div>
                        </div>
                    </section>
                    <!-- ================================================
                End Add Tpye PS-Page -->
                </div>
                <!-- ./continer -->
            </section>
            <!-- ================================================
    End control-page -->
            <!-- ================================================
    Start Playstation-page -->
            <section id="user" class="control-page py-5">
                
                <div class="container">
                    <!-- ================================================
                Start Add User-Page -->
                    <section class="add-user-page py-5">
                        <div class="">
                            <div class="text-center">
                                <h2 class="title-page mb-5">
                                    Add User
                                </h2>
                            </div>
                            <!-- title-page -->
                            <div class="text-center w-100 mx-auto">
                                <input id="UserName" class="mb-3 p-2 w-50 d-block mx-auto" type="text" placeholder="Name User" />
                                <select id="UserKind" class="browser-default custom-select mb-3 p-2 w-50 d-block mx-auto">
                                    <option value="-1">--Select Kind</option>
                                    <option value="Admin">Admin</option>
                                    <option value="User">User</option>
                                </select>
                                <input id="UserPassword" class="mb-3 p-2 w-50 d-block mx-auto" type="text" placeholder="Password" />
                                <input id="UserPhone" class="mb-3 p-2 w-50 d-block mx-auto" type="text" placeholder="UserPhone" />
                                <input id="UserId" hidden class="mb-3 p-2 w-50 d-block mx-auto" type="text" placeholder="UserId" />

                                <button id="AddUser" class="w-50 d-block mx-auto btn bg-color-add colorWhait">
                                    Add
                                    <i class="fa fa-plus"></i>
                                </button>
                                <button id="EditUser" class="w-50 d-block mx-auto btn bg-color-add colorWhait">
                                    Update
                                    <i class="fa fa-plus"></i>
                                </button>
                            </div>
                            <!-- End-Form -->


                            <div class="table-responsive">
                                <!-- Main Table -->
                                <table class="table table-dark table-hover w-75 mx-auto mt-5">
                                    <thead>
                                        <tr>
                                            <th scope="col">Edit</th>
                                            <th scope="col">User Name</th>
                                            <th scope="col">Password</th>
                                            <th scope="col">User Number</th>
                                            <th scope="col">User Kind</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ShowUsersData">
                                        <tr>
                                            <th scope="row" class="d-flex">
                                                <i class="fas fa-edit click-pull update color-add font-size"></i>
                                                <i class="fa fa-trash click-pull color-remove font-size mx-1"></i>
                                            </th>
                                            <td>1</td>
                                            <td>test</td>
                                            <td>2</td>
                                            <td>4</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <!-- End Main Table -->
                            </div>
                        </div>
                    </section>
                    <!-- ================================================
                End Add User-Page -->
                </div>
                <!-- ./ -->
            </section>
            <!-- ================================================
    End Playstation-page -->
            <!-- ================================================
    Start Playstation-page -->
            <section id="ps" class="control-page py-5">
               
                <div class="container">
                   
                    <!-- ================================================
            Start Add Drink-Page -->

                    <section class="add-drink-page py-5 ">
                        <div class="">
                            <div class="text-center">
                                <h2 class="title-page mb-5">
                                    Add Drink
                                </h2>
                            </div> <!-- title-page -->
                            <div class="text-center w-100 mx-auto">
                                <input hidden class=" addid mb-3 p-2" type="text" placeholder="Name Drink">
                                <input class=" addname mb-3 p-2" type="text" placeholder="Name Drink">
                                <input class=" addprice  mb-3 p-2" type="number" min="1" placeholder="Price">
                                <input class=" addqut  mb-3 p-2" type="number" min="1" placeholder="Quantity">
                                <button id="adddrink" class="add d-block mx-auto  btn bg-color-add colorWhait">
                                    Add
                                    <i class="fa fa-plus"></i>
                                </button>
                                <button id="editdrink" class="Edit d-block mx-auto  btn bg-color-add colorWhait">
                                    Edit
                                    <i class="fa fa-edit"></i>
                                </button>
                            </div>
                            <!-- End-Form -->

                            <div class="table-responsive">
                                <!-- Main Table -->
                                <table id="DataTable" class="table table-dark table-hover w-75 mx-auto mt-5">
                                    <thead>
                                        <tr>
                                            <th scope="col">Edit</th>
                                            <th scope="col">Drinks Name</th>
                                            <th scope="col">Drinks Price</th>
                                            <th scope="col">Drinks Count</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ShowDrinksData">
                                    </tbody>
                                </table>
                                <!-- End Main Table -->
                            </div>


                        </div>
                    </section>
                    <!-- ================================================
            End Add Drink-Page -->
                </div>
                <!-- ./ -->
            </section>
            <!-- ================================================
    End Playstation-page -->
            <!-- ================================================
    Start Shift-page -->
            <section id="shift" class="end-shift-page control-page py-5">
                <div class="container">
                    <div class="contet-control p-5 d-flex justify-content-center align-items-center">
                        <button class="box-contnet click-pull shift-btn-today">
                            <span class="mainColor font-size title-icon d-none d-md-inline">Shift Today</span>
                            <span class="mainColor font-size title-icon d-block d-md-none"></span>
                            <i class="fas fa-calendar-alt font-size icon text-center ml-3"></i>
                        </button>

                        <button class="box-contnet click-pull  add-drink-form  shift-btn-all">
                            <span class="mainColor font-size title-icon d-none d-md-inline">Shift All </span>
                            <span class="mainColor font-size title-icon d-block d-md-none"></span>
                            <i class="fas fa-calendar font-size icon text-center ml-3"></i>
                        </button>
                    </div>
                    <div class="row">
                        <div class="col-md-12 mt-5 shfit-all">
                            <form>
                                <div class="d-flex justify-content-center head-end-shift">
                                    <input id="ShiftTodayforlable" class="p-2 mr-2" type="text" placeholder="Total Shift" value="" disabled readonly />

                                </div>
                            </form>

                            <div class="table-responsive">
                                <!-- Main Table -->
                                <table class="table table-dark table-hover w-100 mx-auto mt-5">
                                    <thead>
                                        <tr>
                                            <th scope="col">PS Name</th>
                                            <th scope="col">Time</th>
                                            <th scope="col">Time Cost </th>
                                            <th scope="col">Drink Cost  </th>
                                            <th scope="col">Total   </th>
                                            <th scope="col"> Date  </th>
                                        </tr>
                                    </thead>
                                    <tbody id="ShowEndShiftToday">
                                    </tbody>
                                </table>
                                <!-- End Main Table -->
                            </div>
                        </div>
                        <!-- ./col-md-4 -->

                        <div class="col-md-12 mt-5 shift-hidden today-shift">
                            <form>
                                <div class="d-flex justify-content-center head-end-shift">
                                    <input id="DateTakerforlable" class="p-2 mr-2" type="text" placeholder="Total Shift" value="" disabled readonly />
                                    <a href="#" id="EndShiftSubmit" class="btn bg-color-remove colorWhait px-4">
                                        <i class="fas fa-sign-out-alt"></i>
                                        End
                                    </a>
                                </div>
                                <div class="d-block d-md-flex justify-content-center">
                                    <div class="box-end-shift">
                                        <label class="colorWhait font-size mr-2" for="form">From</label>
                                        <input id="From" class="w-75 mt-3 p-2" type="date" />
                                    </div>
                                    <div class="box-end-shift">
                                        <label class="colorWhait font-size mx-2" for="to">To</label>
                                        <input id="To" class="w-75 mt-3 p-2" type="date" />
                                    </div>
                                </div>
                            </form>

                            <div class="table-responsive">
                                <!-- Main Table -->
                                <table class="table table-dark table-hover w-75 mx-auto mt-5">
                                    <thead>
                                        <tr>
                                            <th scope="col">PS Name</th>
                                            <th scope="col">Time</th>
                                            <th scope="col">Time Cost </th>
                                            <th scope="col">Drink Cost  </th>
                                            <th scope="col">Total   </th>
                                            <th scope="col"> Date  </th>
                                        </tr>
                                    </thead>
                                    <tbody id="ShowEndShift">
                                    </tbody>
                                </table>
                                <!-- End Main Table -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- ================================================
    End Shift-page -->
        </div>
        <!-- ./continer -->
       
        <!-- ./contaner -->
    </section>
    <!-- ================================================
    End App -->
    <!-- ================================================
    Start Main Footer -->
    <footer class="py-3 footer bg-main-color colorWhait bottom">
        <div class="text-center">
            <span class="copy-right font-size">Copy Right &copy; 2020 Pnetworkers</span>
        </div>
    </footer>
    <!-- ================================================
    End Main Footer -->
    <!-- Laibiry-Jquery -->
    <script src="~/js/vandors/jquery.js"></script>
    <!-- Bootstarp -->
    <script src="~/js/vandors/bootstrap.min.js"></script>
    <!-- Timer-Libiry -->
    <script src="~/js/time.js"></script>
    <!-- Main Script -->
    <script src="~/js/main.js"></script>
    <script>

 
        // End Shift By Date Load In Table 
        $('#EndShiftSubmit').click(function () {

            var From = $("#From").val();
            var To = $("#To").val();

            $.ajax({
                url: "/Admin/DateTaker",
                type: "post",
                data: {
                    From: From,
                    To: To,

                },
                success: function (data) {
                    var html = '';
                    $.each(data, function (i, item) {
                        html += '<tr>'

                        html += '<td>' + item.recPcName + '</td>';
                        html += '<td>' + item.recTotalMinutes + '</td>';
                        html += '<td>' + item.recHoursPrice + '</td>';
                        html += '<td>' + item.recDrinkPrice + '</td>';
                        html += '<td>' + item.recTotal + '</td>';
                        html += '<td>' + item.recStartTime + '</td>';

                        html += '</tr>'
                    })

                    $("#ShowEndShift").html(html);
                   

                }

            });
            $.ajax({
                url: "/Admin/DateTakerforlable",
                type: "post",
                data: {
                    From: From,
                    To: To,

                },
                success: function (data) {

                    $('#DateTakerforlable').val(data);

                }
            });
        });

       


        // End Shift Load In Table 
        function EndShiftToday() {

            $.get("/Admin/ShiftToday", function (data) {
                var html = '';
                $.each(data, function (i, item) {
                    html += '<tr>'

                    html += '<td>' + item.recPcName + '</td>';
                    html += '<td>' + item.recTotalMinutes + '</td>';
                    html += '<td>' + item.recHoursPrice + '</td>';
                    html += '<td>' + item.recDrinkPrice + '</td>';
                    html += '<td>' + item.recTotal + '</td>';
                    html += '<td>' + item.recStartTime + '</td>';

                    html += '</tr>'
                })

                $("#ShowEndShiftToday").html(html);



            })
        };
        EndShiftToday();



        // Users Load In Table 
        function LoadUsers() {
            $.get("/User/IndexUser", function (data) {
                var html = '';
                $.each(data, function (i, item) {
                    html += '<tr>'
                    html += ' <th scope="row" class="d-flex"><i  onclick="EditUser(' + item.userId + ')"class="fas fa-edit update click-pull color-add font-size "></i><i onclick="DeleteUser(' + item.userId + ')"  class="fa fa-trash click-pull color-remove font-size mx-1"></i></th >'
                    html += '<td>' + item.userName + '</td>';
                    html += '<td>' + item.userPassword + '</td>';
                    html += '<td>' + item.userPhone + '</td>';
                    html += '<td>' + item.userKind + '</td>';

                    html += '</tr>'
                })

                $("#ShowUsersData").html(html);

                console.log(data);


            })


        }
        LoadUsers();


        

        // User Edit Get
        function EditUser(id) {

            $.ajax({
                url: "/User/EditUser/" + id,
                type: "GET",

                success: function (data) {

                    $("#UserId").val(data.userId);
                    $("#UserName").val(data.userName);
                    $("#UserPassword").val(data.userPassword);
                    $("#UserPhone").val(data.userPhone);
                    $("#UserKind").val(data.userKind);
                    
                }
            });
            document.getElementById("EditUser").style.visibility = "visible";
            document.getElementById("AddUser").style.visibility = "hidden";
        };

        // User Edit Post   
        $('#EditUser').click(function () {
            var UserId = $("#UserId").val();
            var Username = $("#UserName").val();
            var UserPassword = $("#UserPassword").val();
            var UserPhone = $("#UserPhone").val();
            var UserKind = $("#UserKind").val();
           
            var User =
            {
                userId: UserId,
                userKind: UserKind,
                userName: Username,
                userPassword: UserPassword,
                 userPhone: UserPhone
            };

            $.ajax({
                url: "/User/EditUser/" + UserId,
                type: "POST",
                data: User,
                success: function () {

                    alert("Done");
                    LoadUsers();
                }

            });
            document.getElementById("EditUser").style.visibility = "hidden";
            document.getElementById("AddUser").style.visibility = "visible";

            $("#UserId").val('');
            $("#Username").val('-1');
            $('#UserPassword').val('');
            $('#UserPhone').val('');
            $('#UserKind').val('-1');
        });


        // User Delete
        function DeleteUser(id) {
            if (confirm(`Are you Sure to Delete this User`)) {

                $.ajax({
                    url: "/User/DeleteUser/" + id,
                    type: "GET",

                    success: function () {
                        alert("Done");
                        LoadUsers();
                    }

                });
            }
        };




        // User Create
        $('#AddUser').click(function () {

           
            var Username = $("#UserName").val();
            var UserPassword = $("#UserPassword").val();
            var UserPhone = $("#UserPhone").val();
            var UserKind = $("#UserKind").val();

            var User =
            {
               
                userKind: UserKind,
                userName: Username,
                userPassword: UserPassword,
                userPhone: UserPhone
            };
            $.ajax({
                url: "/User/CreateUser",
                type: "post",
                data: User,
                success: function () { alert("Done"); LoadUsers(); }

            });
        });


        // Drinks Load In Table 
        function LoadDrinks() {
            $.get("/Admin/IndexDrink", function (data) {
                var html = '';
                $.each(data, function (i, item) {
                    html += '<tr>'
                    html += ' <th scope="row" class="d-flex"><i  onclick="EditDrink(' + item.drDrinkId + ')"class="fas fa-edit click-pull update color-add font-size "></i><i onclick="DeleteDrink(' + item.drDrinkId + ')"  class="fa fa-trash click-pull color-remove font-size mx-1"></i></th >'
                    html += '<td>' + item.drDrinkName + '</td>';
                    html += '<td>' + item.drDrinkPrice + '</td>';
                    html += '<td>' + item.drDrinkQut + '</td>';

                    html += '</tr>'
                })

                $("#ShowDrinksData").html(html);


            })
        }
        LoadDrinks();

        // Drinks Create
        $('.add').click(function () {

            var name = $(".addname").val();
            var price = $(".addprice").val();
            var qut = $(".addqut").val();
            var Drink =
            {
                drDrinkName: name,
                drDrinkPrice: price,
                drDrinkQut: qut
            };

            $.ajax({
                url: "/Admin/CreateDrink",
                type: "post",
                data: Drink,
                success: function () { LoadDrinks();}

            });
        });
        // Drink Edit Get
        function EditDrink(id) {

            $.ajax({
                url: "/Admin/EditDrink/" + id,
                type: "GET",

                success: function (data) {

                    $(".addid").val(data.drDrinkId);
                    $(".addname").val(data.drDrinkName);
                    $(".addprice").val(data.drDrinkPrice);
                    $(".addqut").val(data.drDrinkQut);
                }
            });
            document.getElementById("editdrink").style.visibility = "visible";
            document.getElementById("adddrink").style.visibility = "hidden";
        };

        // Drink Edit Post   
        $('.Edit').click(function () {

            var name = $(".addname").val();
            var price = $(".addprice").val();
            var qut = $(".addqut").val();
            var drinkid = $(".addid").val();
            var Drink =
            {
                drDrinkId: drinkid,
                drDrinkName: name,
                drDrinkPrice: price,
                drDrinkQut: qut
            };

            $.ajax({
                url: "/Admin/EditDrink/" + drinkid,
                type: "POST",
                data: Drink,
                success: function () {

                    LoadDrinks();
                }

            });
            document.getElementById("editdrink").style.visibility = "hidden";
            document.getElementById("adddrink").style.visibility = "visible";

            $(".addname").val('');
            $(".addprice").val('');
            $('.addqut').val('');
            $('.addid').val('');

        });


        // Drink Delete
        function DeleteDrink(id) {
            if (confirm(`Are you Sure to Delete this Drink`)) {

                $.ajax({
                    url: "/Admin/DeleteDrink/" + id,
                    type: "GET",

                    success: function () {
                        alert("Done");
                        LoadDrinks();
                    }

                });
            }
        };









        // Typed Load In Table 
        function LoadTypes() {
            $.get("/Admin/IndexHoursPrice", function (data) {
                var html = '';
                $.each(data, function (i, item) {
                    html += '<tr>'
                    html += ' <th scope="row" class="d-flex"><i  onclick="EditType(' + item.hpId + ')"class="fas fa-edit click-pull update color-add font-size "></i><i onclick="DeleteType(' + item.hpId + ')"  class="fa fa-trash click-pull color-remove font-size mx-1"></i></th >'
                    html += '<td>' + item.hpTypePc + '</td>';
                    html += '<td>' + item.hpSinglePrice + '</td>';
                    html += '<td>' + item.hpMultiPrice + '</td>';

                    html += '</tr>'
                })

                $("#ShowTypes").html(html);

                console.log(data)
            })
        }
        LoadTypes();

        // Drinks Create
        $('#CreateType').click(function () {

            var type = $("#PSType").val();
            var pricesingle = $("#PriceSingle").val();
            var pricemulti = $("#PriceMulti").val();
            var Type =
            {
                hpTypePc: type,
                hpSinglePrice: pricesingle,
                hpMultiPrice: pricemulti
            };

            $.ajax({
                url: "/Admin/CreateHoursPrice",
                type: "post",
                data: Type,
                success: function () { LoadTypes(); }

            });
        });
        // Drink Edit Get
        function EditType(id) {

            $.ajax({
                url: "/Admin/EditHoursPrice/" + id,
                type: "GET",

                success: function (data) {

                    $("#PsId").val(data.hpId);
                    $("#PSType").val(data.hpTypePc);
                    $("#PriceSingle").val(data.hpSinglePrice);
                    $("#PriceMulti").val(data.hpMultiPrice);
                }
            });
            document.getElementById("EditType").style.visibility = "visible";
            document.getElementById("CreateType").style.visibility = "hidden";
        };

        // Drink Edit Post   
        $('#EditType').click(function () {

            var PsId = $('#PsId').val();
            var type = $("#PSType").val();
            var pricesingle = $("#PriceSingle").val();
            var pricemulti = $("#PriceMulti").val();
            var Type =
            {
                hpId: PsId,
                hpTypePc: type,
                hpSinglePrice: pricesingle,
                hpMultiPrice: pricemulti
            };

            $.ajax({
                url: "/Admin/EditHoursPrice/" + PsId,
                type: "POST",
                data: Type,
                success: function () {

                    LoadTypes();
                }

            });
            document.getElementById("EditType").style.visibility = "hidden";
            document.getElementById("CreateType").style.visibility = "visible";    


        });


        // Drink Delete
        function DeleteType(id) {
            if (confirm(`Are you Sure to Delete this Type`)) {

                $.ajax({
                    url: "/Admin/DeleteHoursPrice/" + id,
                    type: "GET",

                    success: function () {
                        alert("Done");
                        LoadTypes();
                    }

                });
            }
        };






        // DropDown PsType
        function getlist() {


            $.ajax({
                url: "/Admin/IndexHoursPrice",
                type: "Get",


                success: function (data) {
                    var html = '';
                    html += '  <option id="typepc"  value= -1 > -- Select Ps Type </option>'
                    $.each(data, function (i, item) {

                        html += '  <option id="typepc"  value=' + item.hpId + '>' + item.hpTypePc + '</option>'


                    })
                     
                    $(".list-typepc").html(html);

                }
            });
        };
        getlist();

        //device create

        $('.adddev').click(function () {

            var devnum = $('.adddevname').val();
            var dvpctype = $('.list-typepc').val();
            //var devpctype =
            var Device =
            {
                dvNumber: devnum,
                hpId: dvpctype
            };

            $.ajax({
                url: "/Admin/CreateDevice",
                type: "post",
                data: Device,
                success: function () { LoadDevices(); }

            });
        });

        // Devices Load In Table 
        function LoadDevices() {
            $.get("/Admin/IndexDevice", function (data) {
                var html = '';
                $.each(data, function (i, item) {
                    html += '<tr>'
                    html += ' <th scope="row" class="d-flex"><i  onclick="Editdevice(' + item.dvid + ')"class="fas fa-edit click-pull update color-add font-size "></i><i onclick="DeleteDevice(' + item.dvid + ')"  class="fa fa-trash click-pull color-remove font-size mx-1"></i></th >'
                    html += '<td>' + item.dvNumber + '</td>';
                    html += '<td>' + item.hpId + '</td>';


                    html += '</tr>'
                })

                $("#ShowDevice").html(html);


            })
        }
        LoadDevices();


            // Dvices Edit Get
            function Editdevice(id) {

                $.ajax({
                    url: "/Admin/EditDevice/" + id,
                    type: "GET",

                    success: function (data) {

                        $(".divid").val(data.dvid);
                        $(".adddevname").val(data.dvNumber);
                        $(".list-typepc").val(data.hpId);

                      
                    }

                });
                document.getElementById("EditDevice").style.visibility = "visible";
                document.getElementById("adddev").style.visibility = "hidden";
            };


            // Device Edit Post   
            $('#EditDevice').click(function () {

                var divId = $('.divid').val();
                var devname = $(".adddevname").val();
                var divtype = $(".list-typepc").val();

                var Device =
                {
                    dvid: divId,
                    dvNumber: devname,
                    hpId: divtype,

                };

                $.ajax({
                    url: "/Admin/EditDevice/" + divId,
                    type: "POST",
                    data: Device,
                    success: function () {

                        LoadDevices();
                    
                       

                    }

                });
                document.getElementById("EditDevice").style.visibility = "hidden";
                document.getElementById("adddev").style.visibility = "visible";    
                $(".adddevname").val('');
                $(".list-typepc").val('-1');
                $('.divid').val('');
                
            });

            // Device Delete
            function DeleteDevice(id) {
                if (confirm(`Are you Sure to Delete this Device`)) {

                    $.ajax({
                        url: "/Admin/DeleteDevice/" + id,
                        type: "GET",

                        success: function () {
                            alert("Done");
                            LoadDevices();
                        }

                    });
                }
        };




        // Count Device Online 
        function Devonline() {
            $.get("/Admin/Devonline", function (data) {

                $('#online').text(data);

            })
        }
        Devonline();



        // Total Today
        function TotalToday() {
            $.get("/Admin/TotalToday", function (data) {

                $('#cash').text(data);

            })
        }
        TotalToday();


        $.get("/Admin/ShiftTodayforlable", function (data) { $('#ShiftTodayforlable').val(data) })

    </script>
</body>
</html>
